---
// src/layouts/Layout.astro
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro'; 
const { title } = Astro.props;
---

<html lang="ja" class="scroll-smooth">
  <head>
    <link rel="icon" type="image/png" href="/nedzi-mark.png" />
    <link rel="apple-touch-icon" href="/nedzi-mark.png" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>{title} | 東北ネヂ製造株式会社</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&family=Noto+Sans+JP:wght@400;700&family=Shippori+Mincho+B1:wght@400;700&family=Zen+Antique+Soft&display=swap" rel="stylesheet">
  </head>
  <body class="bg-white text-ink font-sans antialiased flex flex-col min-h-screen relative overflow-x-hidden">
    <Header />
    <main class="flex-grow">
      <slot />
    </main>
    <Footer />

    <button 
      id="back-to-top" 
      aria-label="ページ最上部へ戻る" 
      class="fixed bottom-8 right-8 z-50 bg-[#008B9B] text-white w-12 h-12 rounded-full shadow-lg flex items-center justify-center opacity-0 invisible transition-all duration-300 hover:bg-[#006064] hover:-translate-y-1 focus:outline-none"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18" />
      </svg>
    </button>

    <script>
      const btn = document.getElementById('back-to-top');
      if(btn){
        window.addEventListener('scroll', () => {
          if(window.scrollY > 300) { 
            btn.classList.remove('opacity-0','invisible'); 
            btn.classList.add('opacity-100','visible'); 
          } else { 
            btn.classList.remove('opacity-100','visible'); 
            btn.classList.add('opacity-0','invisible'); 
          }
        });
        btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
      }
    </script>
  </body>
</html>

<style is:global>
  /* 黄金設定：ヘッダーとの被りを防ぐスクロール位置調整 */
  html { 
    scroll-padding-top: 110px;
    background-color: white !important; 
  }
  
  /* 基本フォント・カラー設定 */
  body, p, div, span, h1, h2, h3, h4, dt, dd, li { color: #1A1A1A; }
  .text-primary { color: #008B9B !important; }

  /* 共通フォントクラス */
  .font-mb101 { font-family: 'Gothic MB101', sans-serif; font-weight: 800; }
  .font-mincho { font-family: 'Shippori Mincho B1', serif; }
  .font-futomin { font-family: 'Zen Antique Soft', serif; font-weight: 500; }
  .font-serif { font-family: 'EB Garamond', serif; }
</style>