---
// src/components/Header.astro
---
<header class="fixed top-0 left-0 w-full bg-white z-[60] border-b border-gray-100 shadow-sm">
  <div class="container mx-auto px-6 h-20 flex justify-between items-center">
    
    {/* ãƒ­ã‚´ã‚¨ãƒªã‚¢ */}
    <div class="flex flex-col justify-center">
      <a href="/" class="flex items-center gap-3 group">
        <img src="/images/T-nedzi-mark.png" alt="æ±åŒ—ãƒãƒ‚è£½é€  ãƒãƒ¼ã‚¯" class="h-8 md:h-10 w-auto" />
        <div class="flex items-baseline whitespace-nowrap">
          <span class="text-gray-900 font-shingo-b text-2xl leading-none">æ±åŒ—ãƒãƒ‚è£½é€ </span>
          <span class="text-gray-900 font-shingo-b text-base leading-none ml-0.5 scale-[0.7] origin-left opacity-90">æ ªå¼ä¼šç¤¾</span>
        </div>
      </a>
      {/* èªè¨¼ãƒ†ã‚­ã‚¹ãƒˆï¼šå­—é–“ã‚’åºƒã’ã¦å¯èª­æ€§ã‚’ç¢ºä¿ */}
      <div class="hidden md:block text-[9px] leading-tight text-gray-400 font-medium mt-1.5 whitespace-nowrap tracking-wider">
        æ—¥æœ¬å·¥æ¥­è¦æ ¼è¡¨ç¤ºèªè¨¼å·¥å ´ ISO9001/14001/45001èªè¨¼å–å¾—<br />
        <span class="text-gray-500">ç†±é–“é›é€ ãƒœãƒ«ãƒˆãƒ»ã­ã˜ãƒ¡ãƒ¼ã‚«ãƒ¼</span>
      </div>
    </div>

    {/* PCãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
    <div class="hidden md:flex items-center gap-8">
      <nav class="flex gap-7 items-center text-gray-600">
        {["ä¼æ¥­æƒ…å ±", "è£½é€ äº‹æ¥­", "è²©å£²äº‹æ¥­", "æ¡ç”¨æƒ…å ±", "ãŠçŸ¥ã‚‰ã›"].map((item, index) => {
          const hrefs = ["/company", "/manufacture", "/sales", "/recruit", "/news"];
          return (
            <a href={hrefs[index]} class="text-sm font-bold hover:text-[#008B9B] tracking-widest transition-colors font-sans">
              {item}
            </a>
          );
        })}
      </nav>
      
      {/* å¤šè¨€èªåˆ‡ã‚Šæ›¿ãˆ */}
      <a href="/en" class="text-[#E64A19] border-l border-gray-200 pl-6 flex items-baseline gap-1 hover:opacity-70 transition-opacity text-sm font-sans">
       <span class="text-gray-900 font-bold">JP</span>
       <span class="text-[10px] font-medium text-gray-400">/ EN</span>
      </a>
      
      {/* AIãŠå•åˆã›ãƒœã‚¿ãƒ³ï¼šMB101ã§åŠ›å¼·ã */}
      <a href="/contact#ai-selection" class="px-5 py-2 border-2 border-gray-900 text-[11px] font-mb101 hover:bg-gray-900 hover:text-white transition-all uppercase tracking-[0.2em]">
       AIãŠå•åˆã›
      </a>
    </div>

    {/* ãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³ */}
    <button id="menu-btn" class="md:hidden flex flex-col justify-center items-center w-10 h-10 relative z-[70] focus:outline-none" aria-label="Menu">
      <span id="line1" class="w-6 h-0.5 bg-gray-900 transition-all duration-300"></span>
      <span id="line2" class="w-6 h-0.5 bg-gray-900 my-1.5 transition-all duration-300"></span>
      <span id="line3" class="w-6 h-0.5 bg-gray-900 transition-all duration-300"></span>
    </button>
  </div>

  {/* ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */}
  <div id="mobile-menu" class="fixed inset-0 bg-white z-[65] transform translate-x-full transition-transform duration-500 ease-in-out md:hidden">
    <div class="flex flex-col h-full pt-20 px-10">
      <ul class="flex flex-col gap-4">
        {[
          { label: "ä¼æ¥­æƒ…å ±", href: "/company" },
          { label: "è£½é€ äº‹æ¥­", href: "/manufacture" },
          { label: "è²©å£²äº‹æ¥­", href: "/sales" },
          { label: "æ¡ç”¨æƒ…å ±", href: "/recruit" },
          { label: "ãŠçŸ¥ã‚‰ã›", href: "/news" }
        ].map(item => (
          <li><a href={item.href} class="mobile-link text-lg leading-snug font-mb101 text-gray-900">{item.label}</a></li>
        ))}
        <li class="pt-6 border-t border-gray-100">
          <a href="/en" class="mobile-link text-[#E64A19] text-lg font-bold flex items-center gap-3">
            <span class="text-xl">ğŸŒ</span>
            <span class="font-sans">English Site</span>
          </a>
        </li>
      </ul>

      <div class="mt-4 pb-12">
        <a href="/contact#ai-selection" class="mobile-link block w-full bg-gray-900 text-white text-center py-5 font-mb101 text-lg rounded-sm tracking-widest">
          AIãŠå•åˆã›
        </a>
      </div>
    </div>
  </div>

  <div id="menu-backdrop" class="fixed inset-0 bg-black/40 opacity-0 pointer-events-none transition-opacity duration-500 z-[64]"></div>
</header>

<script>
  // ã‚¹ã‚¯ãƒªãƒ—ãƒˆéƒ¨åˆ†ã¯æ—¢å­˜ã®ãƒ­ã‚¸ãƒƒã‚¯ãŒå®Œç’§ãªã®ã§ã€ãã®ã¾ã¾ç¶­æŒã—ã¾ã™
  const menuBtn = document.getElementById('menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuBackdrop = document.getElementById('menu-backdrop');
  const line1 = document.getElementById('line1');
  const line2 = document.getElementById('line2');
  const line3 = document.getElementById('line3');
  const mobileLinks = document.querySelectorAll('.mobile-link');

  function toggleMenu() {
    mobileMenu?.classList.toggle('translate-x-full');
    mobileMenu?.classList.toggle('translate-x-0');
    menuBackdrop?.classList.toggle('opacity-0');
    menuBackdrop?.classList.toggle('pointer-events-none');
    
    line1?.classList.toggle('rotate-45');
    line1?.classList.toggle('translate-y-2');
    line2?.classList.toggle('opacity-0');
    line3?.classList.toggle('-rotate-45');
    line3?.classList.toggle('-translate-y-2');
    document.body.classList.toggle('overflow-hidden');
  }

  if (menuBtn && mobileMenu && menuBackdrop) {
    menuBtn.addEventListener('click', toggleMenu);
    menuBackdrop.addEventListener('click', toggleMenu);
    mobileLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (!mobileMenu.classList.contains('translate-x-full')) toggleMenu();
      });
    });
  }
</script>